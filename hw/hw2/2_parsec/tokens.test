#
include
<
iostream
>
#
include
<
fstream
>
#
include
"stdlib.h"#
include
"string.h"#
define
STRMAX
100#
define
SONGMAX
1024using
namespace
std
;
struct
Song
{
char
title
[
STRMAX
]
;
char
artist
[
STRMAX
]
;
int
year_published
;
}
;
/
/
Singletonstruct
MyMusicObject
{
struct
Song
music_library
[
SONGMAX
]
;
int
current_number_of_songs
;
char
file_name
[
STRMAX
]
;
int
crunch_down_from_index
(
int
index
)
{
if
(
index
==
SONGMAX
-
1
)
{
printf
(
"Your MusicLibrary is full, please remove some songs before insert.\n"
)
;
return
-
1
;
}
for
(
int
k
=
current_number_of_songs
;
k
>
index
;
k
--
)
{
music_library
[
k
]
=
music_library
[
k
-
1
]
;
}
current_number_of_songs
++
;
return
0
;
}
void
crunch_up_from_index
(
int
index
)
{
for
(
int
k
=
index
;
k
<
current_number_of_songs
-
1
;
k
++
)
{
music_library
[
k
]
=
music_library
[
k
+
1
]
;
}
current_number_of_songs
--
;
}
int
find_index_of_song_with_name
(
char
*
title
)
{
int
l
=
0
,
r
=
current_number_of_songs
-
1
;
/
/
return
the
literally
larger
or
equal
index
of
the
song
while
(
l
<
r
)
{
int
mid
=
(
l
+
r
)
>>
1
;
(
strcmp
(
title
,
music_library
[
mid
]
.
title
)
<=
0
)
?
r
=
mid
:
l
=
mid
+
1
;
}
